{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\wolfb\\\\Projects\\\\ToDoListApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:\\\\Users\\\\wolfb\\\\Projects\\\\ToDoListApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\wolfb\\\\Projects\\\\ToDoListApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:\\\\Users\\\\wolfb\\\\Projects\\\\ToDoListApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\wolfb\\\\Projects\\\\ToDoListApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\wolfb\\\\Projects\\\\ToDoListApp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";/* src/App.js */import React,{useEffect,useState}from'react';import{API,graphqlOperation}from'aws-amplify';import{createTodo}from'./graphql/mutations';import{listTodos}from'./graphql/queries';import{withAuthenticator}from'@aws-amplify/ui-react';var initialState={name:'',description:''};var App=function App(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),todos=_useState4[0],setTodos=_useState4[1];useEffect(function(){fetchTodos();},[]);function setInput(key,value){setFormState(_objectSpread(_objectSpread({},formState),{},_defineProperty({},key,value)));}function fetchTodos(){return _fetchTodos.apply(this,arguments);}function _fetchTodos(){_fetchTodos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var todoData,_todos;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return API.graphql(graphqlOperation(listTodos));case 3:todoData=_context.sent;_todos=todoData.data.listTodos.items;setTodos(_todos);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log('error fetching todos');case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _fetchTodos.apply(this,arguments);}function addTodo(){return _addTodo.apply(this,arguments);}function _addTodo(){_addTodo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var todo;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(!(!formState.name||!formState.description)){_context2.next=3;break;}return _context2.abrupt(\"return\");case 3:todo=_objectSpread({},formState);setTodos([].concat(_toConsumableArray(todos),[todo]));setFormState(initialState);_context2.next=8;return API.graphql(graphqlOperation(createTodo,{input:todo}));case 8:_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log('error creating todo:',_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return _addTodo.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{style:styles.container},/*#__PURE__*/React.createElement(\"h2\",null,\"Amplify Todos\"),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){return setInput('name',event.target.value);},style:styles.input,value:formState.name,placeholder:\"Name\"}),/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(event){return setInput('description',event.target.value);},style:styles.input,value:formState.description,placeholder:\"Description\"}),/*#__PURE__*/React.createElement(\"button\",{style:styles.button,onClick:addTodo},\"Create Todo\"),todos.map(function(todo,index){return/*#__PURE__*/React.createElement(\"div\",{key:todo.id?todo.id:index,style:styles.todo},/*#__PURE__*/React.createElement(\"p\",{style:styles.todoName},todo.name),/*#__PURE__*/React.createElement(\"p\",{style:styles.todoDescription},todo.description));}));};var styles={container:{width:400,margin:'0 auto',display:'flex',flex:1,flexDirection:'column',justifyContent:'center',padding:20},todo:{marginBottom:15},input:{border:'none',backgroundColor:'#ddd',marginBottom:10,padding:8,fontSize:18},todoName:{fontSize:20,fontWeight:'bold'},todoDescription:{marginBottom:0},button:{backgroundColor:'black',color:'white',outline:'none',fontSize:18,padding:'12px 0px'}};export default withAuthenticator(App);","map":{"version":3,"sources":["C:/Users/wolfb/projects/ToDoListApp/src/App.js"],"names":["React","useEffect","useState","API","graphqlOperation","createTodo","listTodos","withAuthenticator","initialState","name","description","App","formState","setFormState","todos","setTodos","fetchTodos","setInput","key","value","graphql","todoData","data","items","console","log","addTodo","todo","input","styles","container","event","target","button","map","index","id","todoName","todoDescription","width","margin","display","flex","flexDirection","justifyContent","padding","marginBottom","border","backgroundColor","fontSize","fontWeight","color","outline"],"mappings":"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","sourcesContent":["/* src/App.js */\r\nimport React, { useEffect, useState } from 'react'\r\nimport { API, graphqlOperation } from 'aws-amplify'\r\nimport { createTodo } from './graphql/mutations'\r\nimport { listTodos } from './graphql/queries'\r\nimport {withAuthenticator} from '@aws-amplify/ui-react'\r\n\r\nconst initialState = { name: '', description: '' }\r\n\r\nconst App = () => {\r\n  const [formState, setFormState] = useState(initialState)\r\n  const [todos, setTodos] = useState([])\r\n\r\n  useEffect(() => {\r\n    fetchTodos()\r\n  }, [])\r\n\r\n  function setInput(key, value) {\r\n    setFormState({ ...formState, [key]: value })\r\n  }\r\n\r\n  async function fetchTodos() {\r\n    try {\r\n      const todoData = await API.graphql(graphqlOperation(listTodos))\r\n      const todos = todoData.data.listTodos.items\r\n      setTodos(todos)\r\n    } catch (err) { console.log('error fetching todos') }\r\n  }\r\n\r\n  async function addTodo() {\r\n    try {\r\n      if (!formState.name || !formState.description) return\r\n      const todo = { ...formState }\r\n      setTodos([...todos, todo])\r\n      setFormState(initialState)\r\n      await API.graphql(graphqlOperation(createTodo, {input: todo}))\r\n    } catch (err) {\r\n      console.log('error creating todo:', err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2>Amplify Todos</h2>\r\n      <input\r\n        onChange={event => setInput('name', event.target.value)}\r\n        style={styles.input}\r\n        value={formState.name} \r\n        placeholder=\"Name\"\r\n      />\r\n      <input\r\n        onChange={event => setInput('description', event.target.value)}\r\n        style={styles.input}\r\n        value={formState.description}\r\n        placeholder=\"Description\"\r\n      />\r\n      <button style={styles.button} onClick={addTodo}>Create Todo</button>\r\n      {\r\n        todos.map((todo, index) => (\r\n          <div key={todo.id ? todo.id : index} style={styles.todo}>\r\n            <p style={styles.todoName}>{todo.name}</p>\r\n            <p style={styles.todoDescription}>{todo.description}</p>\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  container: { width: 400, margin: '0 auto', display: 'flex', flex: 1, flexDirection: 'column', justifyContent: 'center', padding: 20 },\r\n  todo: {  marginBottom: 15 },\r\n  input: { border: 'none', backgroundColor: '#ddd', marginBottom: 10, padding: 8, fontSize: 18 },\r\n  todoName: { fontSize: 20, fontWeight: 'bold' },\r\n  todoDescription: { marginBottom: 0 },\r\n  button: { backgroundColor: 'black', color: 'white', outline: 'none', fontSize: 18, padding: '12px 0px' }\r\n}\r\n\r\nexport default withAuthenticator(App)"]},"metadata":{},"sourceType":"module"}